{% extends "base.html" %}
{% load staticfiles %}
{% load thumbnail %}
{% load helper %}

{% block body %}
{{block.super}}
<div class="content-image-gallery">
	<div class="headline">
		<h1 class="game_headline">Bilder</h1>
	</div>

    <div id="gallery" style="display:none;">
        {% for category in categories %}
        {% for image in category.image_imagecategory.all %}
            <img alt="{{ image.image }}"
                 src="{{ image.image.url }}"
                 data-image="{{ image.image.url }}"
                 data-image-mobile="{{ image.image.url }}"
                 data-thumb-mobile="{{ image.image.url }}"
                 data-description="{{ image.image }}"
                 style="display:none">
        {% endfor %}
        {% endfor %}
    </div>

    <div class="image-gallery-extern">
        {% for folder, files in imageFiler.items %}
            <h2 class="image-gallery-extern-headline">{% if folder == "." %}Rest{% else %}{{ folder|splitOnSlash }}{% endif %}</h2>
            <div id="gallery-extern-{{ forloop.counter }}" class="image-gallery-extern" style="display:none;">
                {% for image in files %}
                    <img alt="{{ image }}"
                         src="{{MEDIA_URL}}image_gallery/{{ image }}"
                         data-image="{{MEDIA_URL}}image_gallery/{{ image }}"
                         data-image-mobile="{{MEDIA_URL}}image_gallery/{{ image }}"
                         data-thumb-mobile="{{MEDIA_URL}}image_gallery/{{ image }}"
                         data-description="{{ image }}"
                         style="display:none">
                {% endfor %}
            </div>
        {% endfor %}
    </div>

</div>
{% endblock %}

{% block js %}
<script type="text/javascript">
    jQuery(document).ready(function(){
        jQuery("#gallery").unitegallery();
        {% for folder in imageFiler %}
            jQuery("#gallery-extern-{{ forloop.counter }}").unitegallery();
        {% endfor %}
    });
</script>
{% endblock %}